{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "apiItem": {
      "type": "object",
      "properties": {
        "Endpoint": { "type": "string" },
        "Method": { "type": "string" },
        "Params": {
          "type": "array",
          "items": { "type": "string" }
        }
      },
      "required": ["Endpoint", "Method", "Params"]
    }
  },
  "type": "object",
  "properties": {
    "Question": {
      "type": "object",
      "properties": {
        "content": { "type": "string" }
      },
      "required": ["content"]
    },
    "Conditions": {
      "type": "object",
      "properties": {
        "PreCondition": {
          "type": "string"
        },
        "PreConditionError": {
          "type": "string"
        },
        "PostCondition": {
          "type": "string"
        },
        "PostConditionError": {
          "type": "string"
        }
      },
      "required": ["PreCondition", "PreConditionError", "PostCondition", "PostConditionError"]
    },
    "NextNode": {
      "type": "object",
      "properties": {
        "ValueCheck": { "type": "string" },
        "Next": { "type": "string" }
      },
      "required": ["ValueCheck", "Next"]
    },
    "APIs": {
      "type": "array",
      "items": { "$ref": "#/definitions/apiItem" }
    },
    "Functions": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "Input": { "type": "string" },
          "Output": { "type": "string" }
        },
        "required": ["Input", "Output"]
      }
    },
    "ExecutionOrder": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "Type": { "type": "string" },
          "Name": { "type": "string" },
          "Input": { "type": "string" },
          "EvaluationFunction": { "type": "string" }
        },
        "required": ["Type", "Name", "Input", "EvaluationFunction"]
      }
    }
  }
}
